reshapeNodes:
  "https://dartnet.info/graphModel/Person":
    valueExpr: >-
      match (n:`https://hl7.org/fhir/Patient`) return n as Patient

  "https://dartnet.info/graphModel/Person/race/source/value":
    valueExpr: >-
      match (patient: `https://hl7.org/fhir/Patient`) -[*]->(e:`https://hl7.org/fhir/Extension` {`url`:"http://hl7.org/fhir/us/core/StructureDefinition/us-core-race"})-[*]->(code:`https://hl7.org/fhir/Coding`) return code.code

  "https://dartnet.info/graphModel/Person/race/source/system":
    valueExpr: >-
      match (patient: `https://hl7.org/fhir/Patient`) -[*]->(e:`https://hl7.org/fhir/Extension` {`url`:"http://hl7.org/fhir/us/core/StructureDefinition/us-core-race"})-[*]->(code:`https://hl7.org/fhir/Coding`) return code.system

map:

  - source: "https://hl7.org/fhir/Patient/gender"
    target: "https://dartnet.info/graphModel/Person/gender/source/value"
  - source: "https://hl7.org/fhir/Patient/id"
    target: "https://dartnet.info/graphModel/Person/id"
  - source: "https://hl7.org/fhir/Patient/birthDate"
    target: "https://dartnet.info/graphModel/Person/birthDate"
